{"remainingRequest":"C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\src\\views\\Search.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\src\\views\\Search.vue","mtime":1615015739000},{"path":"C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638272416389},{"path":"C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1638280889860},{"path":"C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638272416389},{"path":"C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1638280888706}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL1BDL0Rlc2t0b3AvVGlNUC9WdWVQcm9qZWN0cy9kamFja2V0c192dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBQcm9kdWN0Qm94IGZyb20gJ0AvY29tcG9uZW50cy9Qcm9kdWN0Qm94LnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU2VhcmNoJywKICBjb21wb25lbnRzOiB7CiAgICBQcm9kdWN0Qm94OiBQcm9kdWN0Qm94CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdHM6IFtdLAogICAgICBxdWVyeTogJycKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgZG9jdW1lbnQudGl0bGUgPSAnU2VhcmNoIHwgRGphY2tldHMnOwogICAgdmFyIHVyaSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpOwogICAgdmFyIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXModXJpKTsKCiAgICBpZiAocGFyYW1zLmdldCgncXVlcnknKSkgewogICAgICB0aGlzLnF1ZXJ5ID0gcGFyYW1zLmdldCgncXVlcnknKTsKICAgICAgdGhpcy5wZXJmb3JtU2VhcmNoKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBwZXJmb3JtU2VhcmNoOiBmdW5jdGlvbiBwZXJmb3JtU2VhcmNoKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRJc0xvYWRpbmcnLCB0cnVlKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL3YxL3Byb2R1Y3RzL3NlYXJjaC8nLCB7CiAgICAgICAgICAgICAgICAgICdxdWVyeSc6IF90aGlzLnF1ZXJ5CiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5wcm9kdWN0cyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldElzTG9hZGluZycsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\src\\views\\Search.vue"],"names":[],"mappings":";;;;;;;;AAkBA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,UAAP,MAAuB,6BAAvB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,QADK;AAEX,EAAA,UAAU,EAAE;AACR,IAAA,UAAS,EAAT;AADQ,GAFD;AAKX,EAAA,IALW,kBAKJ;AACH,WAAO;AACH,MAAA,QAAQ,EAAE,EADP;AAEH,MAAA,KAAK,EAAE;AAFJ,KAAP;AAIH,GAVU;AAWX,EAAA,OAXW,qBAWD;AACN,IAAA,QAAQ,CAAC,KAAT,GAAiB,mBAAjB;AAEA,QAAI,GAAE,GAAI,MAAM,CAAC,QAAP,CAAgB,MAAhB,CAAuB,SAAvB,CAAiC,CAAjC,CAAV;AACA,QAAI,MAAK,GAAI,IAAI,eAAJ,CAAoB,GAApB,CAAb;;AAEA,QAAI,MAAM,CAAC,GAAP,CAAW,OAAX,CAAJ,EAAyB;AACrB,WAAK,KAAL,GAAa,MAAM,CAAC,GAAP,CAAW,OAAX,CAAb;AAEA,WAAK,aAAL;AACJ;AACH,GAtBU;AAuBX,EAAA,OAAO,EAAE;AACC,IAAA,aADD,2BACiB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAClB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,IAAnC;;AADkB;AAAA,uBAGZ,KAAI,CACL,IADC,CACI,0BADJ,EACgC;AAAC,2BAAS,KAAI,CAAC;AAAf,iBADhC,EAED,IAFC,CAEI,UAAA,QAAO,EAAK;AACd,kBAAA,KAAI,CAAC,QAAL,GAAgB,QAAQ,CAAC,IAAzB;AACH,iBAJC,EAKD,KALC,CAKK,UAAA,KAAI,EAAK;AACZ,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACH,iBAPC,CAHY;;AAAA;AAYlB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;;AAZkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAatB;AAdK;AAvBE,CAAf","sourcesContent":["<template>\n    <div class=\"page-search\">\n        <div class=\"columns is-multiline\">\n            <div class=\"column is-12\">\n                <h1 class=\"title\">Search</h1>\n\n                <h2 class=\"is-size-5 has-text-grey\">Search term: \"{{ query }}\"</h2>\n            </div>\n\n            <ProductBox \n                v-for=\"product in products\"\n                v-bind:key=\"product.id\"\n                v-bind:product=\"product\" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport ProductBox from '@/components/ProductBox.vue'\n\nexport default {\n    name: 'Search',\n    components: {\n        ProductBox\n    },\n    data() {\n        return {\n            products: [],\n            query: ''\n        }\n    },\n    mounted() {\n        document.title = 'Search | Djackets'\n\n        let uri = window.location.search.substring(1)\n        let params = new URLSearchParams(uri)\n\n        if (params.get('query')) {\n            this.query = params.get('query')\n\n            this.performSearch()\n        }\n    },\n    methods: {\n        async performSearch() {\n            this.$store.commit('setIsLoading', true)\n\n            await axios\n                .post('/api/v1/products/search/', {'query': this.query})\n                .then(response => {\n                    this.products = response.data\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n\n            this.$store.commit('setIsLoading', false)\n        }\n    }\n}\n</script>"],"sourceRoot":""}]}